<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday, My Love!</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Caveat:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            /* A soft, cute background */
            background: linear-gradient(135deg, #fff1f2 0%, #ffe4e6 100%);
            overflow: hidden; /* To control overflow from animations */
        }

        .cute-font {
            font-family: 'Caveat', cursive;
        }

        /* --- Animation Classes --- */
        
        /* Pop-in animation for sections */
        @keyframes popIn {
            0% { opacity: 0; transform: scale(0.8) translateY(20px); }
            100% { opacity: 1; transform: scale(1) translateY(0); }
        }

        .animate-pop-in {
            animation: popIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
        }

        /* Heartbeat animation for the main heart icon */
        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.15); }
        }

        .animate-heartbeat {
            animation: heartbeat 1.5s ease-in-out infinite;
        }

        /* Shake animation for wrong answer */
        @keyframes shake {
            10%, 90% { transform: translateX(-1px); }
            20%, 80% { transform: translateX(2px); }
            30%, 50%, 70% { transform: translateX(-4px); }
            40%, 60% { transform: translateX(4px); }
        }

        .animate-shake {
            animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both;
        }

        /* Fade-in for gallery images */
        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .gallery-item {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0; /* Start hidden */
        }

        /* Animation for flying hearts on the last screen */
        @keyframes fly {
            0% { transform: translateY(0); opacity: 1; }
            100% { transform: translateY(-100vh); opacity: 0; }
        }

        .heart {
            position: absolute;
            bottom: -20px;
            font-size: 2rem;
            opacity: 0;
            animation: fly 10s linear infinite;
        }

        /* Staggered delays for hearts */
        .heart:nth-child(1) { left: 10%; animation-delay: 0s; color: #f472b6; }
        .heart:nth-child(2) { left: 20%; animation-delay: 2s; color: #ec4899; }
        .heart:nth-child(3) { left: 30%; animation-delay: 4s; color: #a21caf; }
        .heart:nth-child(4) { left: 40%; animation-delay: 1s; color: #f472b6; }
        .heart:nth-child(5) { left: 50%; animation-delay: 3s; color: #ec4899; }
        .heart:nth-child(6) { left: 60%; animation-delay: 5s; color: #a21caf; }
        .heart:nth-child(7) { left: 70%; animation-delay: 0.5s; color: #f472b6; }
        .heart:nth-child(8) { left: 80%; animation-delay: 1.5s; color: #ec4899; }
        .heart:nth-child(9) { left: 90%; animation-delay: 2.5s; color: #a21caf; }

        /* Style for the pop-up emojis */
        .popup-emoji {
            position: absolute;
            font-size: 2.5rem;
            user-select: none;
            pointer-events: none;
            opacity: 1;
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
            transform: translate(-50%, -50%) scale(1);
        }

        .popup-emoji.fade-out {
            opacity: 0;
            transform: translate(-50%, -50%) scale(1.5);
        }

        /* --- NEW: Infinity Animation --- */
        .infinity-svg {
            width: 150px;
            height: 100px;
            margin-top: 1rem; /* 16px */
        }

        .infinity-path {
            fill: none;
            stroke: #ec4899; /* Pink color */
            stroke-width: 6;
            stroke-linecap: round;
            stroke-dasharray: 283; /* Estimated path length */
            stroke-dashoffset: 283;
            animation: draw-infinity 3s linear infinite;
        }

        @keyframes draw-infinity {
            to {
                stroke-dashoffset: 0; /* Animate to fully drawn */
            }
        }
    </style>
</head>
<body class="text-gray-800">

    <!-- This main div holds all the steps -->
    <div class="relative min-h-screen overflow-hidden">

        <!-- (Steps 1-5 remain exactly the same) -->

        <!-- STEP 1: Welcome -->
        <section id="step-1" class="flex flex-col items-center justify-center min-h-screen p-6 text-center animate-pop-in">
            <div class="bg-white p-8 md:p-12 rounded-3xl shadow-2xl max-w-lg w-full">
                
                <!-- Heart Icon -->
                <svg class="w-20 h-20 text-pink-500 mx-auto animate-heartbeat" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z" clip-rule="evenodd"></path></svg>
                
                <h1 class="cute-font text-5xl md:text-7xl text-pink-600 mt-4">Happy Birthday...</h1>
                <p class="text-2xl md:text-3xl text-gray-600 mt-2">To my one and only,</p>
                <p class="cute-font text-6xl md:text-8xl text-purple-600 mt-2">Shraddha!</p>
                <p class="text-lg text-gray-500 mt-6">I've made a little something just for you, my lovlely doll.</p>
                
                <button 
                    onclick="showStep('step-2-lock')" 
                    class="mt-8 py-3 px-8 bg-pink-600 text-white text-xl font-bold rounded-full shadow-lg transform transition-transform hover:scale-110 hover:bg-pink-700 focus:outline-none focus:ring-4 focus:ring-pink-300">
                    Click for your first surprise! &rarr;
                </button>
            </div>
        </section>

        <!-- STEP 2: Lock Screen -->
        <section id="step-2-lock" class="hidden min-h-screen p-6 flex items-center justify-center" onclick="event.stopPropagation()">
            <div id="lock-box" class="bg-white p-8 md:p-12 rounded-3xl shadow-2xl max-w-lg w-full text-center animate-pop-in">
                <div class="text-6xl mb-4">üîí</div>
                <h2 class="cute-font text-4xl md:text-5xl text-purple-600">A Secret Question...</h2>
                <p class="text-lg text-gray-600 mt-4 mb-6">Who is the very special and close person of Kulfi's life?</p>
                
                <input type="text" id="secret-answer" class="w-full px-4 py-3 text-center text-lg border-2 border-gray-300 rounded-full focus:border-pink-500 focus:ring-pink-500" placeholder="Type your answer here...">
                
                <p id="error-message" class="text-red-500 mt-2 h-6"></p>

                <button 
                    onclick="checkAnswer()" 
                    class="mt-4 w-full py-3 px-8 bg-pink-600 text-white text-xl font-bold rounded-full shadow-lg transform transition-transform hover:scale-105 hover:bg-pink-700 focus:outline-none focus:ring-4 focus:ring-pink-300">
                    Unlock Surprise!
                </button>
            </div>
        </section>

        <!-- STEP 3: Heartfelt Message -->
        <section id="step-3" class="hidden min-h-screen p-6 flex items-center justify-center" onclick="event.stopPropagation()">
            <div class="bg-white p-8 md:p-10 rounded-3xl shadow-2xl max-w-2xl w-full my-12 animate-pop-in overflow-y-auto" style="max-height: 90vh;">
                <h2 class="cute-font text-5xl text-purple-600 text-center">From My Heart...</h2>
                <div class="text-lg text-gray-700 mt-6 space-y-4 text-center">
                    <p>I love you so much, you are my world and you mean everything to me.</p>
                    <p class="text-pink-600 font-semibold">Jabse tum meri life me ayi ho, tabse meri life khushi se bhar gayi hai.</p>
                    <p>Mujhe itna pyaar aaj tak kisi ne nahi diya tha jitna tumne diya.</p>
                    <p class="text-pink-600 font-semibold">Merko itna close aajtak koi nahi laga tha jitna tum mere close thi.</p>
                    <p>Tum mere liye sab kuch ho. You are my world. I love you so much.</p>
                    <p>You‚Äôre not just my love, you're my best friend, my partner in crime, and the person who makes every single day better.</p>
                    <p class="cute-font text-4xl text-pink-700 mt-4">Happy Birthday Wiffey!</p>
                    <p>Always be happy and keep smiling, mere bache...</p>
                    <p class="cute-font text-5xl text-purple-600">Muaaahhhh cutiee!!</p>
                </div>

                <button 
                    onclick="showStep('step-4')" 
                    class="mt-8 w-full py-3 px-8 bg-purple-600 text-white text-xl font-bold rounded-full shadow-lg transform transition-transform hover:scale-105 hover:bg-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-300">
                    Wait, there's more... &darr;
                </button>
            </div>
        </section>

        <!-- STEP 4: Gallery -->
        <section id="step-4" class="hidden min-h-screen p-4 md:p-8" onclick="event.stopPropagation()">
            <div class="bg-white p-6 md:p-8 rounded-3xl shadow-2xl w-full max-w-6xl mx-auto my-8 animate-pop-in" style="max-height: 95vh; overflow-y: auto;">
                <h2 class="cute-font text-5xl md:text-6xl text-pink-600 text-center mb-6">Princess Album</h2>
                
                <!-- Image Grid -->
                <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
                    
                    <!-- Image 1 -->
                    <div class="space-y-2 gallery-item" style="animation-delay: 0.1s;">
                        <img src="https://i.ibb.co/pvFCbzKK/IMG-20250617-115348.jpg" alt="Shraddha" class="w-full h-64 object-cover rounded-2xl shadow-lg" onerror="this.src='https://placehold.co/600x400/fecdd3/db2777?text=Error!'">
                        <p class="text-center text-sm text-gray-600">That smile... it's my whole world.</p>
                    </div>
                    <!-- Image 2 -->
                    <div class="space-y-2 gallery-item" style="animation-delay: 0.2s;">
                        <img src="https://i.ibb.co/DHGvJwWf/IMG-20250113-WA0012.jpg" alt="Shraddha" class="w-full h-64 object-cover rounded-2xl shadow-lg" onerror="this.src='https://placehold.co/600x400/fecdd3/db2777?text=Error!'">
                        <p class="text-center text-sm text-gray-600">Cuteness overload! My gorgeous wifey.</p>
                    </div>
                    <!-- Image 3 -->
                    <div class="space-y-2 gallery-item" style="animation-delay: 0.3s;">
                        <img src="https://i.ibb.co/wFyyrmHn/IMG-20241130-000415-340.jpg" alt="Shraddha" class="w-full h-64 object-cover rounded-2xl shadow-lg" onerror="this.src='https.://placehold.co/600x400/fecdd3/db2777?text=Error!'">
                        <p class="text-center text-sm text-gray-600">This picture makes my heart skip a beat.</p>
                    </div>
                    <!-- Image 4 -->
                    <div class="space-y-2 gallery-item" style="animation-delay: 0.4s;">
                        <img src="https://i.ibb.co/5WGcyVrs/IMG-20240624-002713-278.jpg" alt="Shraddha" class="w-full h-64 object-cover rounded-2xl shadow-lg" onerror="this.src='https://placehold.co/600x400/fecdd3/db2777?text=Error!'">
                        <p class="text-center text-sm text-gray-600">Lost in your thoughts? I'm right here.</p>
                    </div>
                    <!-- Image 5 -->
                    <div class="space-y-2 gallery-item" style="animation-delay: 0.5s;">
                        <img src="https://i.ibb.co/T32zdQ8/IMG-20240828-221201-171.jpg" alt="Shraddha" class="w-full h-64 object-cover rounded-2xl shadow-lg" onerror="this.src='https://placehold.co/600x400/fecdd3/db2777?text=Error!'">
                        <p class="text-center text-sm text-gray-600">The queen of my heart. I love you!</p>
                    </div>
                    <!-- Image 6 -->
                    <div class="space-y-2 gallery-item" style="animation-delay: 0.6s;">
                        <img src="https://i.ibb.co/XrP0JKVg/IMG-20250119-WA0007-1751507469295.jpg" alt="Shraddha" class="w-full h-64 object-cover rounded-2xl shadow-lg" onerror="this.src='https://placehold.co/600x400/fecdd3/db2777?text=Error!'">
                        <p class="text-center text-sm text-gray-600">My queen, radiant as ever.</p>
                    </div>
                    <!-- Image 7 -->
                    <div class="space-y-2 gallery-item" style="animation-delay: 0.7s;">
                        <img src="https://i.ibb.co/xqjkcRZR/IMG-20250617-WA0064.jpg" alt="Shraddha" class="w-full h-64 object-cover rounded-2xl shadow-lg" onerror="this.src='https://placehold.co/600x400/fecdd3/db2777?text=Error!'">
                        <p class="text-center text-sm text-gray-600">My stunning queen. You look divine!</p>
                    </div>
                    <!-- Image 8 -->
                    <div class="space-y-2 gallery-item" style="animation-delay: 0.8s;">
                        <img src="https://i.ibb.co/yckZVnr3/IMG-20240624-003120-347.jpg" alt="Shraddha" class="w-full h-64 object-cover rounded-2xl shadow-lg" onerror="this.src='https://placehold.co/600x400/fecdd3/db2777?text=Error!'">
                        <p class="text-center text-sm text-gray-600">My beautiful doll, from every angle.</p>
                    </div>
                    <!-- Image 9 -->
                    <div class="space-y-2 gallery-item" style="animation-delay: 0.9s;">
                        <img src="https://i.ibb.co/v6MXJvrs/IMG-20241207-000200-943.jpg" alt="Shraddha" class="w-full h-64 object-cover rounded-2xl shadow-lg" onerror="this.src='https://placehold.co/600x400/fecdd3/db2777?text=Error!'">
                        <p class="text-center text-sm text-gray-600">My Desi girl... forever and always.</p>
                    </div>
                    <!-- Image 10 -->
                    <div class="space-y-2 gallery-item" style="animation-delay: 1.0s;">
                        <img src="https://i.ibb.co/rKnXyXQd/IMG-20241224-WA0009.jpg" alt="Shraddha" class="w-full h-64 object-cover rounded-2xl shadow-lg" onerror="this.src='https.://placehold.co/600x400/fecdd3/db2777?text=Error!'">
                        <p class="text-center text-sm text-gray-600">Always shining, always my star.</p>
                    </div>
                </div>

                <button 
                    onclick="showStep('step-5')" 
                    class="mt-8 w-full py-3 px-8 bg-pink-600 text-white text-xl font-bold rounded-full shadow-lg transform transition-transform hover:scale-105 hover:bg-pink-700 focus:outline-none focus:ring-4 focus:ring-pink-300">
                    Ready for your gifts? üéÅ
                </button>
            </div>
        </section>

        <!-- STEP 5: Coupons -->
        <section id="step-5" class="hidden min-h-screen p-4 md:p-8 flex items-center justify-center" onclick="event.stopPropagation()">
            <div class="bg-white p-6 md:p-8 rounded-3xl shadow-2xl w-full max-w-4xl mx-auto my-8 animate-pop-in" style="max-height: 95vh; overflow-y: auto;">
                <h2 class="cute-font text-5xl md:text-6xl text-purple-600 text-center mb-6">Your Official Birthday Gifts!</h2>
                <p class="text-center text-gray-600 mb-6">Present these coupons to me any time (especially today!) to redeem.</p>
                
                <div class="grid md:grid-cols-2 gap-6">
                    
                    <!-- Coupon 1 -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-4 border-dashed border-pink-300 flex items-center space-x-4">
                        <div class="text-5xl">üéß</div>
                        <div>
                            <h3 class="font-bold text-xl text-pink-700">"I'm All Ears" Lifetime Pass</h3>
                            <p class="text-gray-600">Valid for life! I'll listen to everything you say, 100% judgment-free.</p>
                        </div>
                    </div>
                    
                    <!-- Coupon 2 -->
                    <div class="bg-purple-50 p-6 rounded-2xl border-4 border-dashed border-purple-300 flex items-center space-x-4">
                        <div class="text-5xl">‚ú®</div>
                        <div>
                            <h3 class="font-bold text-xl text-purple-700">One "Your Wish Is My Command"</h3>
                            <p class="text-gray-600">Whatever you want, you can ask me. (Please be nice!)</p>
                        </div>
                    </div>

                    <!-- Coupon 3 -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-4 border-dashed border-pink-300 flex items-center space-x-4">
                        <div class="text-5xl">üöó</div>
                        <div>
                            <h3 class="font-bold text-xl text-pink-700">Your Trip, Your Way</h3>
                            <p class="text-gray-600">Wherever you want to go, we'll plan our next big date or adventure.</p>
                        </div>
                    </div>

                    <!-- Coupon 4 -->
                    <div class="bg-purple-50 p-6 rounded-2xl border-4 border-dashed border-purple-300 flex items-center space-x-4">
                        <div class="text-5xl">üëë</div>
                        <div>
                            <h3 class="font-bold text-xl text-purple-700">One "Queen for the Day" Pass</h3>
                            <p class="text-gray-600">A full day where I treat you like royalty. No requests denied!</p>
                        </div>
                    </div>

                    <!-- Coupon 5 -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-4 border-dashed border-pink-300 flex items-center space-x-4">
                        <div class="text-5xl">üßë‚Äçüç≥</div>
                        <div>
                            <h3 class="font-bold text-xl text-pink-700">"Kulfi's Treat" Coupon</h3>
                            <p class="text-gray-600">I will treat you to your absolute favorite meal from your favorite place.</p>
                        </div>
                    </div>

                    <!-- Coupon 6 -->
                    <div class="bg-purple-50 p-6 rounded-2xl border-4 border-dashed border-purple-300 flex items-center space-x-4">
                        <div class="text-5xl">‚ù§Ô∏è</div>
                        <div>
                            <h3 class="font-bold text-xl text-purple-700">Unlimited Hugs & Kisses</h3>
                            <p class="text-gray-600">This coupon never expires and has unlimited redemptions.</p>
                        </div>
                    </div>

                    <!-- Coupon 7 -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-4 border-dashed border-pink-300 flex items-center space-x-4">
                        <div class="text-5xl">üçø</div>
                        <div>
                            <h3 class="font-bold text-xl text-pink-700">Your Movie, Your Choice</h3>
                            <p class="text-gray-600">You get to pick the movie, no complaints from me, I promise!</p>
                        </div>
                    </div>

                    <!-- Coupon 8 -->
                    <div class="bg-purple-50 p-6 rounded-2xl border-4 border-dashed border-purple-300 flex items-center space-x-4">
                        <div class="text-5xl">ü§ù</div>
                        <div>
                            <h3 class="font-bold text-xl text-purple-700">"Get Out of One Chore" Free</h3>
                            <p class="text-gray-600">Have an assignment? I'll do my best to help you with it, no questions asked.</p>
                        </div>
                    </div>

                    <!-- Coupon 9 -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-4 border-dashed border-pink-300 flex items-center space-x-4">
                        <div class="text-5xl">üéµ</div>
                        <div>
                            <h3 class="font-bold text-xl text-pink-700">DJ for the Day</h3>
                            <p class="text-gray-600">You control all the music, whether we're walking, or hanging out.</p>
                        </div>
                    </div>
                    
                    <!-- Coupon 10 -->
                    <div class="bg-purple-50 p-6 rounded-2xl border-4 border-dashed border-purple-300 flex items-center space-x-4">
                        <div class="text-5xl">üç¶</div>
                        <div>
                            <h3 class="font-bold text-xl text-purple-700">Emergency Ice Cream</h3>
                            <p class="text-gray-600">Redeemable for your favorite ice cream, any time, any day.</p>
                        </div>
                    </div>

                    <!-- Coupon 11 -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-4 border-dashed border-pink-300 flex items-center space-x-4">
                        <div class="text-5xl">üíñ</div>
                        <div>
                            <h3 class="font-bold text-xl text-pink-700">One "Day of Yes"</h3>
                            <p class="text-gray-600">For 24 hours, I will say "Yes" to (almost) anything you ask.</p>
                        </div>
                    </div>
                    
                    <!-- Coupon 12 -->
                    <div class="bg-purple-50 p-6 rounded-2xl border-4 border-dashed border-purple-300 flex items-center space-x-4">
                        <div class="text-5xl">üçú</div>
                        <div>
                            <h3 class="font-bold text-xl text-purple-700">One "Bunk a Class" Pass</h3>
                            <p class="text-gray-600">We pick one boring class and go get momos or street food instead.</p>
                        </div>
                    </div>

                    <!-- Coupon 13 -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-4 border-dashed border-pink-300 flex items-center space-x-4">
                        <div class="text-5xl">üéß</div>
                        <div>
                            <h3 class="font-bold text-xl text-pink-700">Headphones Share Session</h3>
                            <p class="text-gray-600">We'll sit in the college garden & listen to your new favorite playlist.</p>
                        </div>
                    </div>

                    <!-- Coupon 14 -->
                    <div class="bg-purple-50 p-6 rounded-2xl border-4 border-dashed border-purple-300 flex items-center space-x-4">
                        <div class="text-5xl">üõçÔ∏è</div>
                        <div>
                            <h3 class="font-bold text-xl text-purple-700">Your Personal Shopper</h3>
                            <p class="text-gray-600">I will go shopping with you for as long as you want. No complaints!</p>
                        </div>
                    </div>

                    <!-- Coupon 15 -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-4 border-dashed border-pink-300 flex items-center space-x-4">
                        <div class="text-5xl">ü§ê</div>
                        <div>
                            <h3 class="font-bold text-xl text-pink-700">"I Win This Argument" Card</h3>
                            <p class="text-gray-600">A one-time-use card to automatically win any silly argument.</p>
                        </div>
                    </div>

                    <!-- Coupon 16 -->
                    <div class="bg-purple-50 p-6 rounded-2xl border-4 border-dashed border-purple-300 flex items-center space-x-4">
                        <div class="text-5xl">üçï</div>
                        <div>
                            <h3 class="font-bold text-xl text-purple-700">"Your Choice" Lunch</h3>
                            <p class="text-gray-600">You pick the spot, my treat. Even the one I "don't like".</p>
                        </div>
                    </div>

                    <!-- Coupon 17 -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-4 border-dashed border-pink-300 flex items-center space-x-4">
                        <div class="text-5xl">üìö</div>
                        <div>
                            <h3 class="font-bold text-xl text-pink-700">A "No-Study" Evening</h3>
                            <p class="text-gray-600">One evening where we are not allowed to talk about exams or assignments. Just us.</p>
                        </div>
                    </div>

                    <!-- Coupon 18 -->
                    <div class="bg-purple-50 p-6 rounded-2xl border-4 border-dashed border-purple-300 flex items-center space-x-4">
                        <div class="text-5xl">üé§</div>
                        <div>
                            <h3 class="font-bold text-xl text-purple-700">One Private Concert</h3>
                            <p class="text-gray-600">Redeem this for me to sing your favorite song (or try my best!), just for you.</p>
                        </div>
                    </div>

                    <!-- Coupon 19 -->
                    <div class="bg-pink-50 p-6 rounded-2xl border-4 border-dashed border-pink-300 flex items-center space-x-4">
                        <div class="text-5xl">üö∂‚Äç‚ôÄÔ∏è</div>
                        <div>
                            <h3 class="font-bold text-xl text-pink-700">The Long Walk</h3>
                            <p class="text-gray-600">Redeem this for me to walk with you anywhere, no matter how long it takes.</p>
                        </div>
                    </div>

                    <!-- Coupon 20 -->
                    <div class="bg-purple-50 p-6 rounded-2xl border-4 border-dashed border-purple-300 flex items-center space-x-4">
                        <div class="text-5xl">üß∏</div>
                        <div>
                            <h3 class="font-bold text-xl text-purple-700">Giant Teddy Bear Hug</h3>
                            <p class="text-gray-600">Redeemable for one extra-long, 60-second squeeze. Anytime.</p>
                        </div>
                    </div>

                </div>

                <button 
                    onclick="showStep('step-6')" 
                    class="mt-8 w-full py-3 px-8 bg-purple-600 text-white text-xl font-bold rounded-full shadow-lg transform transition-transform hover:scale-105 hover:bg-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-300">
                    One last thing... ‚ù§Ô∏è
                </button>
            </div>
        </section>

        <!-- STEP 6: Final Message -->
        <section id="step-6" class="hidden flex-col items-center justify-center min-h-screen p-6 text-center">
            
            <!-- Raining Hearts -->
            <div class="absolute top-0 left-0 w-full h-full pointer-events-none">
                <div class="heart">üíñ</div>
                <div class="heart">‚ù§Ô∏è</div>
                <div class="heart">üíï</div>
                <div class="heart">üíì</div>
                <div class="heart">üíó</div>
                <div class="heart">üíñ</div>
                <div class="heart">‚ù§Ô∏è</div>
                <div class="heart">üíï</div>
                <div class="heart">üíì</div>
            </div>
            
            <div class="bg-white p-8 md:p-12 rounded-3xl shadow-2xl max-w-lg w-full z-10 animate-pop-in">
                <h1 class="cute-font text-6xl md:text-8xl text-pink-600">I Love You!</h1>
                <p class="text-2xl md:text-3xl text-gray-600 mt-4">Happy Birthday, my beautiful doll.</p>
                <p class="text-xl text-gray-500 mt-6">You are my today and all of my tomorrows. Thank you for being you.</p>
                
                <button 
                    onclick="showStep('step-7')" 
                    class="mt-8 py-3 px-8 bg-pink-600 text-white text-xl font-bold rounded-full shadow-lg transform transition-transform hover:scale-110 hover:bg-pink-700 focus:outline-none focus:ring-4 focus:ring-pink-300">
                    Click here
                </button>

                <!-- NEW: Animated Infinity Logo -->
                <svg class="infinity-svg mx-auto" viewBox="0 0 150 100" xmlns="http://www.w3.org/2000/svg">
                    <path class="infinity-path" d="M 25 50 C 25 25, 75 25, 75 50 S 125 75, 125 50 C 125 25, 75 25, 75 50 S 25 75, 25 50" />
                </svg>
            </div>
        </section>

        <!-- STEP 7: Interactive Black Screen -->
        <section id="step-7" class="hidden flex-col items-center justify-center min-h-screen p-6 text-center bg-black cursor-crosshair" onclick="event.stopPropagation()">
            <!-- Raining Hearts -->
            <div class="absolute top-0 left-0 w-full h-full pointer-events-none">
                <div class="heart">üíñ</div>
                <div class="heart">‚ù§Ô∏è</div>
                <div class="heart">üíï</div>
                <div class="heart">üíì</div>
                <div class="heart">üíó</div>
                <div class="heart">üíñ</div>
                <div class="heart">‚ù§Ô∏è</div>
                <div class="heart">üíï</div>
                <div class="heart">üíì</div>
            </div>
            
            <div classs="z-10 animate-pop-in">
                <h1 class="cute-font text-6xl md:text-8xl text-pink-500">I Love You</h1>
                <p class="text-2xl md:text-3xl text-white mt-4">Forever and Always, My Love</p>
                <p class="text-lg text-gray-300 mt-8">(Touch or slide anywhere)</p>
            </div>
        </section>

    </div>

    <script>
        let isDrawing = false;
        
        function showStep(stepId) {
            // Hide all sections first
            document.querySelectorAll('section').forEach(section => {
                section.classList.add('hidden');
            });

            // Show the target section
            const nextStep = document.getElementById(stepId);
            if (nextStep) {
                nextStep.classList.remove('hidden');
                // Re-apply animation class to trigger it
                nextStep.classList.remove('animate-pop-in');
                void nextStep.offsetWidth; // Force reflow
                nextStep.classList.add('animate-pop-in');

                // If it's the gallery, trigger staggered image animations
                if (stepId === 'step-4') { 
                    const items = nextStep.querySelectorAll('.gallery-item');
                    items.forEach((item, index) => {
                        item.style.animation = 'none';
                        void item.offsetWidth; // Trigger reflow
                        item.style.animation = null; 
                        item.style.animationDelay = `${index * 0.1}s`;
                    });
                }

                // If it's the final interactive step, add event listeners
                if (stepId === 'step-7') {
                    addDrawingListeners();
                } else {
                    removeDrawingListeners();
                }
            }
        }

        function checkAnswer() {
            const answerInput = document.getElementById('secret-answer');
            const answer = answerInput.value.trim().toLowerCase();
            const correctAnswers = ['me', 'doll', 'shraddha', 'wiffey'];
            const errorMessage = document.getElementById('error-message');
            const lockBox = document.getElementById('lock-box');

            if (correctAnswers.includes(answer)) {
                errorMessage.textContent = '';
                showStep('step-3'); // Correctly shows the message
                answerInput.value = ''; // Clear input
            } else {
                errorMessage.textContent = 'Awww, try again! üòâ';
                lockBox.classList.remove('animate-shake');
                void lockBox.offsetWidth; // Trigger reflow
                lockBox.classList.add('animate-shake');
            }
        }

        function createEmoji(x, y) {
            const emojiEl = document.createElement('div');
            emojiEl.className = 'popup-emoji';
            emojiEl.style.left = `${x}px`;
            emojiEl.style.top = `${y}px`;
            
            // Expanded list of cute emojis
            const lovelyEmojis = ['üíñ', 'üíï', '‚ù§Ô∏è', 'üíì', 'üíó', 'üíû', 'üíù', 'ü´∂', '‚ú®', 'ü•∞', 'üí´', 'üåü', 'üå∏', 'üåº', 'üòò', 'üíå'];
            emojiEl.innerHTML = lovelyEmojis[Math.floor(Math.random() * lovelyEmojis.length)];

            // Append to the step-7 section
            document.getElementById('step-7').appendChild(emojiEl);

            // Trigger fade out
            setTimeout(() => {
                emojiEl.classList.add('fade-out');
            }, 100); // Start fading almost immediately

            // Remove from DOM after animation
            setTimeout(() => {
                emojiEl.remove();
            }, 600); // 100ms + 500ms transition
        }
        
        // --- Event handler functions ---
        function handleDrawStart(e) {
            isDrawing = true;
            // For click/tap
            const x = e.clientX || (e.touches && e.touches[0].clientX);
            const y = e.clientY || (e.touches && e.touches[0].clientY);
            createEmoji(x, y);
        }
        
        function handleDrawMove(e) {
            if (!isDrawing) return;
            e.preventDefault(); // Prevent scrolling while drawing
            const x = e.clientX || (e.touches && e.touches[0].clientX);
            const y = e.clientY || (e.touches && e.touches[0].clientY);
            // Throttle emoji creation slightly
            createEmoji(x, y);
        }
        
        function handleDrawEnd() {
            isDrawing = false;
        }

        const step7 = document.getElementById('step-7');
        
        // --- Functions to add/remove listeners ---
        function addDrawingListeners() {
            // Mouse events
            step7.addEventListener('mousedown', handleDrawStart);
            step7.addEventListener('mousemove', handleDrawMove);
            step7.addEventListener('mouseup', handleDrawEnd);
            step7.addEventListener('mouseleave', handleDrawEnd); // Stop if mouse leaves area
            
            // Touch events
            step7.addEventListener('touchstart', handleDrawStart, { passive: false });
            step7.addEventListener('touchmove', handleDrawMove, { passive: false });
            step7.addEventListener('touchend', handleDrawEnd);
        }

        function removeDrawingListeners() {
            // Mouse events
            step7.removeEventListener('mousedown', handleDrawStart);
            step7.removeEventListener('mousemove', handleDrawMove);
            step7.removeEventListener('mouseup', handleDrawEnd);
            step7.removeEventListener('mouseleave', handleDrawEnd);
            
            // Touch events
            step7.removeEventListener('touchstart', handleDrawStart);
            step7.removeEventListener('touchmove', handleDrawMove);
            step7.removeEventListener('touchend', handleDrawEnd);
        }

    </script>
</body>
</html>

